var Discord = require("discord.js");
  exports.run = async (bot, message, args = []) => {

      var invites = await message.guild.fetchInvites();
    invites = invites.array();
    arraySort(invites, 'uses', { reverse: true });
    let possibleInvites = ['User Invited |  Uses '];
    invites.forEach(i => {
        if (i.uses === 0) { 
            return;
        }
      possibleInvites.push(['\n\ ' +'<@'+ i.inviter.id +'>' + '  :  ' +   i.uses]);
      if (i.uses === 10) {//ÙŠÙ…Ø¯ÙŠÙƒ ØªØ¹Ø¯Ù„ Ø±Ù‚Ù… ÙˆØµÙˆÙ„ Ø§Ù„Ø¹Ø¯Ø¯ Ø­Ù‚ Ø§Ù„Ø§Ù†ÙØ§ÙŠØª Ø§Ù„Ù‰ Ø§Ø£Ù‚Ù„ Ø£Ùˆ Ø£ÙƒØ«Ø±
          message.member.addRole(message.member.guild.roles.find("name","ã€Ž ð’±â„ð’«  ã€"))//Ù‡Ù†Ø¢ Ø£Ø³Ù… Ø£Ù„Ø±ØªØ¨Ù‡ Ø§Ù„Ù„ÙŠ ØªØ¬ÙŠÙ‡Ù‡
.catch(RebeL =>{
console.log('`Error`: ' + RebeL);
});
}
if (i.uses === 20) {
message.member.addRole(message.member.guild.roles.find("name","ã€Ž ð’±â„ð’«  ã€"))
.catch(RebeL =>{
console.log('`Error`: ' + RebeL);
});
}
if (i.uses === 30) {
message.member.addRole(message.member.guild.roles.find("name","ã€Ž ð’±â„ð’«  ã€"))
.catch(RebeL =>{
console.log('`Error`: ' + RebeL);
});
      }//Ù…Ø¹Ù„ÙˆÙ…Ù‡ Ø¨Ø³ÙŠØ·Ù‡ ÙŠÙ…Ø¯ÙŠÙƒ ØªÙƒØ±Ø± Ø§Ù„Ø¹Ù…Ù„ÙŠÙ‡Ù‡ Ø£ÙƒØ«Ø± Ù…Ù† Ù…Ø±Ù‡
    })
    const embed = new Discord.RichEmbed()
 .setColor('#36393e')
    .addField("Top Invites." ,`${(possibleInvites)}`)

    message.channel.send(embed)







};

exports.conf = {
  enabled: true,
  guildOnly: false,
  aliases: [""],
  permLevel: 0
};

exports.help = {
  name: "invite",
  description: "description",
    category: "music",
  usage: "usage"
};
